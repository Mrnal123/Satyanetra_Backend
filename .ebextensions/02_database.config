# AWS RDS Database Configuration
# This file configures the database connection for AWS deployment

option_settings:
  aws:elasticbeanstalk:application:environment:
    SPRING_PROFILES_ACTIVE: aws
    
  aws:rds:dbinstance:
    # Database configuration
    DBAllocatedStorage: 20
    DBDeletionPolicy: Snapshot
    DBEngine: postgres
    DBEngineVersion: 15.4
    DBInstanceClass: db.t3.micro
    DBSnapshotIdentifier: ""
    DBUser: postgres
    
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /health
    Port: 5000
    
  aws:autoscaling:asg:
    MinSize: 1
    MaxSize: 4
    
  aws:autoscaling:trigger:
    MeasureName: CPUUtilization
    Statistic: Average
    Unit: Percent
    UpperThreshold: 80
    LowerThreshold: 20
    
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7